(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/map"],{"0479":function(e,t,a){"use strict";(function(e,t){var n=a("4ea4");a("55e5");n(a("66fd"));var o=n(a("906e"));e.__webpack_require_UNI_MP_PLUGIN__=a,t(o.default)}).call(this,a("bc2e")["default"],a("543d")["createPage"])},"12be":function(e,t,a){"use strict";var n=a("303e"),o=a.n(n);o.a},"303e":function(e,t,a){},"6e95":function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return n}));var n={faNavbar:function(){return a.e("components/fa-navbar/fa-navbar").then(a.bind(null,"076e"))}},o=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.word="交通"},e.e1=function(t){e.word="商场"},e.e2=function(t){e.word="便利店"},e.e3=function(t){e.word="餐饮"},e.e4=function(t){e.word="景点"})},r=[]},"8cc8":function(e,t,a){},"906e":function(e,t,a){"use strict";a.r(t);var n=a("6e95"),o=a("a3df");for(var r in o)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(r);a("b295"),a("12be");var i=a("f0c5"),s=Object(i["a"])(o["default"],n["b"],n["c"],!1,null,"78716921",null,!1,n["a"],void 0);t["default"]=s.exports},a3df:function(e,t,a){"use strict";a.r(t);var n=a("e11a"),o=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t["default"]=o.a},b295:function(e,t,a){"use strict";var n=a("8cc8"),o=a.n(n);o.a},e11a:function(e,t,a){"use strict";(function(e){var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("2eee")),r=n(a("c973")),i={onLoad:function(e){this.word=e.word||"交通",this.title=e.word||"交通"},onReady:function(){var t=this;return(0,r.default)(o.default.mark((function a(){return o.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.map=e.createMapContext("hotelMap"),t.vuex_store.id){a.next=4;break}return a.next=4,t.getDefaultStore();case 4:case"end":return a.stop()}}),a)})))()},data:function(){return{map:null,covers:[],lsCovers:[],circles:[],store:[],keyword:"",title:"交通",word:"",allpage:1,page:1,markerId:0}},watch:{word:function(e,t){e&&this.render(e)}},methods:{search:function(){this.keyword?this.render(this.keyword,1):this.$u.toast("请输入关键词")},goSearch:function(e,t){var a=this;this.$api.mapSearch({page:this.page,keyword:e,latitude:this.vuex_store.latitude,longitude:this.vuex_store.longitude}).then((function(n){1==n.code?(a.allpage=Math.ceil(n.data.count/20),n.data.data.map((function(e,n){a.lsCovers.push({id:a.markerId,latitude:e.location.lat,longitude:e.location.lng,address:e.address,callout:{content:e.title,padding:10,borderRadius:5,bgColor:a.theme.bgColor,color:a.theme.color,display:"ALWAYS"}}),1==t&&1==a.markerId&&a.map.moveToLocation({latitude:e.location.lat,longitude:e.location.lng}),a.markerId++})),a.allpage>a.page&&a.page<2?(a.page++,a.goSearch(e,t)):a.covers=a.lsCovers):a.$u.toast(n.msg)}))},render:function(e,t){this.page=1,this.markerId=0,this.lsCovers=[],this.lsCovers.push({id:this.markerId,latitude:this.vuex_store.latitude,longitude:this.vuex_store.longitude,iconPath:"../../static/map.png",address:this.vuex_store.address,callout:{content:this.vuex_store.name,padding:10,borderRadius:5,bgColor:"#F24E4E",color:this.theme.color,display:"ALWAYS"}}),this.markerId++,this.goSearch(e,t)},markers:function(t){var a=t.detail.markerId;this.covers[a]&&this.covers[a].latitude&&e.openLocation({latitude:this.covers[a].latitude,longitude:this.covers[a].longitude,name:this.covers[a].callout.content,address:this.covers[a].address,success:function(){}})},regionchange:function(e){}}};t.default=i}).call(this,a("543d")["default"])}},[["0479","common/runtime","common/vendor"]]]);