{"version":3,"sources":["webpack:///D:/文件/旅游小程序/svnOne/components/fa-signin/fa-signin.vue?8a32","webpack:///D:/文件/旅游小程序/svnOne/components/fa-signin/fa-signin.vue?3a82","webpack:///D:/文件/旅游小程序/svnOne/components/fa-signin/fa-signin.vue?5196","webpack:///D:/文件/旅游小程序/svnOne/components/fa-signin/fa-signin.vue?c72d","uni-app:///components/fa-signin/fa-signin.vue","webpack:///D:/文件/旅游小程序/svnOne/components/fa-signin/fa-signin.vue?8232","webpack:///D:/文件/旅游小程序/svnOne/components/fa-signin/fa-signin.vue?d4c7"],"names":["name","computed","bgStyle","background","color","data","show","fill_date","itemStyle","dateArray","d_obj","year","month","today","now_year","now_month","monthList","methods","init","upDate","nextDate","getmonthSign","date","reject","getCurDate","day","isSign","isToday","m","tapThis","dateminus","confirm","mounted"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AAClI;AAC6D;AACL;AACsC;;;AAG9F;AACmL;AACnL,gBAAgB,uLAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,uMAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtDA;AAAA;AAAA;AAAA;AAAsrB,CAAgB,qqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCgC1sB;EACAA;EACAC;IACAC;MAAA;MACA;QACA;UACA;YACAC;YACAC;UACA;QACA;UACA;QACA;MACA;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;EACAC;IACAC;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CACA;MAAA;QAAA;MAAA;MAAA;IAAA;IACAC;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;kBACA;kBACA;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CACA;MAAA;QAAA;MAAA;MAAA;IAAA;IACAC;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;kBACA;kBACA;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CACA;MAAA;QAAA;MAAA;MAAA;IAAA;IACA;IACAC;MAAA;MACA;QACA;UAAAC;QAAA;UACA;YACAC;UACA;YACAA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;QACA;UACAb;UACAC;UACAa;UACAC;UACAC;QACA;QACA;MACA;MACAC;MACA;QACA;QACAH;QACA;UACAd;UACAC;UACAa;UACAC;UACAC;QACA;QACA;MACA;IACA;IACA;IACAE;MACA;MACA;MACA;QACA;QACA;MACA;MACA;MACA;QACA;QACA;MACA;MACA;MACA;MACA;QACA;QACA;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QAAAxB;MAAA;IACA;EACA;EACAyB;IAEA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;AC1KA;AAAA;AAAA;AAAA;AAAyzC,CAAgB,otCAAG,EAAC,C;;;;;;;;;;;ACA70C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/fa-signin/fa-signin.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./fa-signin.vue?vue&type=template&id=787e13a4&scoped=true&\"\nvar renderjs\nimport script from \"./fa-signin.vue?vue&type=script&lang=js&\"\nexport * from \"./fa-signin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./fa-signin.vue?vue&type=style&index=0&id=787e13a4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"787e13a4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/fa-signin/fa-signin.vue\"\nexport default component.exports","export * from \"-!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./fa-signin.vue?vue&type=template&id=787e13a4&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uModal: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-modal/u-modal\" */ \"@/uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.dateArray, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var s0 = _vm.__get_style([_vm.bgStyle(item)])\n    return {\n      $orig: $orig,\n      s0: s0,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./fa-signin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./fa-signin.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"sign-wrap\">\n\t\t<view class=\"date-wrap\">\n\t\t\t<view class=\"cur-date u-flex u-row-between u-p-30\">\n\t\t\t\t<view class=\"\" @click=\"upDate\"><u-icon name=\"arrow-left-double\"></u-icon></view>\n\t\t\t\t<view class=\"\">{{ year + '年' + (month + 1) + '月' }}</view>\n\t\t\t\t<view class=\"\" @click=\"nextDate\"><u-icon name=\"arrow-right-double\"></u-icon></view>\n\t\t\t</view>\n\t\t\t<view class=\"title-item-box item-box\">\n\t\t\t\t<view class=\"item\" v-for=\"(item, index) in ['日', '一', '二', '三', '四', '五', '六']\" :key=\"index\">{{ item }}</view>\n\t\t\t</view>\n\t\t\t<view class=\"date-item-box item-box\">\n\t\t\t\t<!--  -->\n\t\t\t\t<view class=\"item date-item\" @tap=\"tapThis(item)\" v-for=\"(item, index) in dateArray\" :key=\"index\">\n\t\t\t\t\t<text :style=\"[bgStyle(item)]\" :class=\"{ isSign: item.isSign, active: item.isToday }\" v-text=\"item.day\"></text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<u-modal v-model=\"show\" title=\"确认是否补签？\" :show-cancel-button=\"true\" @confirm=\"confirm\">\n\t\t\t<view class=\"u-p-30\">\n\t\t\t\t<view class=\"\">\n\t\t\t\t\t确认进行补签日期:<text class=\"text-danger u-m-l-10 u-m-r-10\">{{fill_date}}</text>?\n\t\t\t\t</view>\n\t\t\t\t<view class=\"u-m-t-10\">\n\t\t\t\t\t补签将消耗<text class=\"text-danger u-m-l-10 u-m-r-10\">{{vuex_signin.fillupscore}}</text>积分\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</u-modal>\n\t</view>\n</template>\n\n<script>\nexport default {\n\tname:'fa-signin',\n\tcomputed:{\n\t\tbgStyle(){\n\t\t\treturn item=>{\n\t\t\t\tif(item.isToday && item.isSign){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tbackground:this.theme.bgColor,\n\t\t\t\t\t\tcolor: this.theme.color\n\t\t\t\t\t};\n\t\t\t\t}else{\n\t\t\t\t\treturn {}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshow:false,\n\t\t\tfill_date:'',\n\t\t\titemStyle: {},\n\t\t\tdateArray: [],\n\t\t\td_obj: null,\n\t\t\tyear: '', //年（计算）\n\t\t\tmonth: '', //月（计算）\n\t\t\ttoday: '', //今天\n\t\t\tnow_year: '', //年（当前）\n\t\t\tnow_month: '', //月（当前）\n\t\t\tmonthList: {}\n\t\t};\n\t},\n\tmethods: {\n\t\tinit: async function() {\n\t\t\tthis.d_obj = new Date();\n\t\t\tthis.year = this.now_year = this.d_obj.getFullYear();\n\t\t\tthis.month = this.d_obj.getMonth();\n\t\t\tthis.today = this.d_obj.getDate(); //今天\n\t\t\tthis.now_month = this.month + 1;\n\t\t\tthis.today = this.today < 10 ? `0${this.today}` : this.today.toString();\n\t\t\tthis.monthList = await this.getmonthSign();\n\t\t\tthis.getCurDate(this.year, this.month);\n\t\t},\n\t\tupDate: async function() {\n\t\t\tthis.month--;\n\t\t\tif (this.month == -1) {\n\t\t\t\tthis.month = 11;\n\t\t\t\tthis.year--;\n\t\t\t}\n\t\t\tthis.monthList = await this.getmonthSign();\n\t\t\tthis.getCurDate(this.year, this.month);\n\t\t},\n\t\tnextDate: async function() {\n\t\t\tthis.month++;\n\t\t\tif (this.month == 12) {\n\t\t\t\tthis.month = 0;\n\t\t\t\tthis.year++;\n\t\t\t}\n\t\t\tthis.monthList = await this.getmonthSign();\n\t\t\tthis.getCurDate(this.year, this.month);\n\t\t},\n\t\t//获取签到情况\n\t\tgetmonthSign() {\n\t\t\treturn new Promise((reject, resolve) => {\n\t\t\t\tthis.$api.monthSign({ date: this.year + '-' + (this.month + 1) }).then(res => {\n\t\t\t\t\tif (res.code) {\n\t\t\t\t\t\treject(res.data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject({});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t//渲染日历\n\t\tgetCurDate(y, m) {\t\t\t\n\t\t\tlet week = new Date(y, m, 1).getDay(); //一号是周几\n\t\t\tlet max = new Date(y, m + 1, 0).getDate(); //本月最大天\n\t\t\tthis.dateArray = [];\n\t\t\t// 1号之前留白,对应正确的周几\n\t\t\tfor (let i = 0; i < week; i++) {\n\t\t\t\tlet obj = {\n\t\t\t\t\tyear: '',\n\t\t\t\t\tmonth: '',\n\t\t\t\t\tday: '',\n\t\t\t\t\tisSign: false,\n\t\t\t\t\tisToday: false\n\t\t\t\t};\n\t\t\t\tthis.dateArray.push(obj);\n\t\t\t}\n\t\t\tm = m + 1; //月份格式化\n\t\t\tfor (let i = 0; i < max; i++) {\n\t\t\t\tlet day = i + 1;\n\t\t\t\tday = day < 10 ? `0${day}` : day.toString(); //日期格式化\n\t\t\t\tlet obj = {\n\t\t\t\t\tyear: y,\n\t\t\t\t\tmonth: m,\n\t\t\t\t\tday: day,\n\t\t\t\t\tisSign: this.monthList[day] != undefined,\n\t\t\t\t\tisToday: y == this.now_year && m == this.now_month && day == this.today\n\t\t\t\t};\n\t\t\t\tthis.dateArray.push(obj);\n\t\t\t}\n\t\t},\n\t\t//点击日期\n\t\ttapThis(e) {\n\t\t\tif (!e.day) return;\n\t\t\t//今天已签到\n\t\t\tif (e.isToday && e.isSign) {\n\t\t\t\tthis.$u.toast('今天已签到,请明天再来哦');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//今天未签，签到\n\t\t\tif(e.isToday && !e.isSign){\n\t\t\t\tthis.$emit('dosign');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//可以补签\n\t\t\tlet chaDay = this.dateminus(e);//大于0为过去日期，小于0为未来日期\t\t\t\n\t\t\tif (chaDay > 0 && chaDay < parseInt(this.vuex_signin.fillupdays) && !e.isSign) {\n\t\t\t\tthis.fill_date = `${e.year}-${e.month}-${e.day}`;\n\t\t\t\tthis.show = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.$emit('dates', e);\n\t\t},\n\t\t//日期相减,\n\t\tdateminus(e) {\n\t\t\treturn (new Date(`${this.now_year}-${this.now_month}-${this.today}`) - new Date(`${e.year}-${e.month}-${e.day}`)) / 1000 / 86400;\n\t\t},\n\t\t//确认补签\n\t\tconfirm(){\n\t\t\tthis.$emit('fillup',{fill_date:this.fill_date});\n\t\t}\n\t},\n\tmounted() {\t\t\n\t\n\t\t//设置日期\n\t\tthis.init();\n\t}\n};\n</script>\n\n<style scoped lang=\"scss\">\n.date-wrap {\n\twidth: 100%;\n\tpadding: 2% 0;\n\tborder-radius: 16upx;\n\tbackground: #fff;\n\tbox-sizing: border-box;\n\ttext-align: center;\n\tbox-shadow: 0px 0px 5px 0px rgba(0, 34, 144, 0.1);\n\t.cur-date {\n\t\tfont-size: 30upx;\n\t}\n\t.item-box {\n\t\tdisplay: flex;\n\t\tcolor: #777;\n\t\tflex-wrap: wrap;\n\t\tfont-size: 28upx;\n\t\tjustify-content: flex-start;\n\t\t.item {\n\t\t\twidth: 14.28%;\n\t\t\tpadding: 25rpx 0;\t\t\t\n\t\t\ttext{\n\t\t\t\tpadding: 5rpx 25rpx;\n\t\t\t\tborder-radius: 100upx;\n\t\t\t}\n\t\t\t.isSign {\n\t\t\t\tbackground: #efefef;\n\t\t\t\tcolor: #999;\n\t\t\t}\n\t\t}\n\t\t\t\t\n\t}\n}\n.text-danger {\n\tcolor: #e74c3c;\n}\n</style>\n","import mod from \"-!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./fa-signin.vue?vue&type=style&index=0&id=787e13a4&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./fa-signin.vue?vue&type=style&index=0&id=787e13a4&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1680592237059\n      var cssReload = require(\"D:/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}